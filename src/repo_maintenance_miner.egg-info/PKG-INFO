Metadata-Version: 2.4
Name: repo-maintenance-miner
Version: 0.1.0
Summary: CLI para minerar repositórios e avaliar saúde de manutenção (atividade e dependências)
Author: Guilherme Gomes Palhares Gomide, Diogo Alves Graciano, Victor Yuji Yano, Guilherme Novais de Souza
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: typer>=0.12
Requires-Dist: pydriller>=2.6
Requires-Dist: requests>=2.31
Requires-Dist: semver>=3.0.0
Requires-Dist: rich>=13.7
Requires-Dist: tomli>=2.0; python_version < "3.11"

# repo-maintenance-miner

Ferramenta de linha de comando para minerar repositórios e identificar sinais de problemas de manutenção/evolução, analisando atividade recente e estado das dependências (desatualização e vulnerabilidades conhecidas).

## Membros do Grupo
- Guilherme Gomes Palhares Gomide
- Diogo Alves Graciano
- Victor Yuji Yano
- Guilherme Novais de Souza

## Objetivo da Ferramenta
A CLI calcula um “termômetro de manutenção” a partir de:
- Atividade recente: total de commits em uma janela de tempo, dias desde o último commit, mediana de dias entre commits, merges.
- Dependências: quais estão desatualizadas (comparação com o PyPI) e vulnerabilidades reportadas (OSV).

Os resultados podem ser exibidos no terminal ou exportados em JSON/CSV.

## Tecnologias Utilizadas
- Python 3.9+
- Typer (CLI)
- PyDriller (mineração de commits Git)
- Requests (HTTP)
- OSV API (vulnerabilidades)
- PyPI JSON API (últimas versões)
- Rich (tabelas bonitas no terminal)
- Pytest (testes)
- GitHub Actions (CI)

## Instalação
Pré‑requisitos: Python 3.9+ e pip.

1. Clone o repositório e acesse a pasta do projeto.
2. Instale em modo editável:
   
   ```bash
   pip install -e .
   ```

Isso instalará o comando `repo-miner`.

## Uso
Ajuda geral:

```bash
repo-miner --help
```

- Analisar atividade do repositório (ex.: últimos 365 dias):

```bash
repo-miner activity /caminho/para/repo --since-days 365
repo-miner activity /caminho/para/repo --since-days 365 --json-out atividade.json
```

- Analisar dependências do projeto atual (detecta `requirements.txt` e/ou `pyproject.toml`):

```bash
repo-miner deps . --offline                 # apenas parse, sem rede
repo-miner deps . --json-out deps.json      # JSON completo
repo-miner deps . --csv-out deps.csv        # CSV com lista de pacotes
```

- Rodar análise combinada (atividade + dependências) e obter um score 0–100:

```bash
repo-miner analyze . --since-days 365
repo-miner analyze . --json-out relatorio.json
```

Também é possível executar via `python main.py` durante o desenvolvimento.

## Como Executar os Testes Localmente
Instale as dependências de desenvolvimento e rode o pytest:

```bash
pip install -e .
pip install pytest
pytest -q
```

## Integração Contínua (CI)
Os testes são executados automaticamente no GitHub Actions em Python 3.9–3.12 a cada push e pull request (arquivo `.github/workflows/ci.yml`).
